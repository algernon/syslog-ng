#+STARTUP: indent showall                       -*- org -*-

* Upgrade issues

Issues that arise when upgrading from the unsplit Debian syslog-ng
from Squeeze (direct upgrades from earlier are not supported, and will
not be), and between split versions.

** Test upgrades from one major version to the other

Test what happens when we move from libsyslog-ng-3.3.1 to -3.3.2 or
even to -3.4. The expected scenario is that the old library gets
removed automatically.

* Packaging improvements

** systemd support

Systemd support is currently explicitly disabled. On Linux, it should
be enabled, and syslog-ng-core should ship with an appropriate service
file.

For this to work, syslog-ng will need to be fixed to compile with
libsystemd-daemon: it needs to #include <systemd/sd-daemon.h> instead
of the local version in this case.

** Load all modules by default

Users who customised their syslog-ng config, will not get the @include
support, thus, if they use any of the modules that were formerly in
the core package (sql), their setup will break.

To remedy this, syslog-ng should attempt to load all modules by
default, but should not warn when one module is not found. This way
simply updating to the new syslog-ng setup will not break existing
configs.

It does require patching upstream a bit. But on the flipside, this
gets rid of the 00load-* config files.

Reported by Imre Lazar <imre@balabit.hu>
